{"ast":null,"code":"import _regeneratorRuntime from \"/home/charles/serverless-next.js/packages/serverless-components/nextjs-component/examples/evote/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/charles/serverless-next.js/packages/serverless-components/nextjs-component/examples/evote/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/charles/serverless-next.js/packages/serverless-components/nextjs-component/examples/evote/components/subnav.js\",\n    _this = this;\n\nvar __jsx = React.createElement;\nimport Link from \"next/link\";\nimport React from \"react\";\nimport { withIronSession } from \"next-iron-session\";\n\nvar Subnav = function Subnav(_ref) {\n  var user = _ref.user;\n  return __jsx(\"div\", {\n    className: \"subnav\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6,\n      columnNumber: 5\n    }\n  }, __jsx(\"button\", {\n    className: \"subnavbtn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  }, \"Log in \", __jsx(\"i\", {\n    className: \"fa fa-caret-down\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 42\n    }\n  })), __jsx(\"div\", {\n    className: \"subnav-hanger\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }\n  }, __jsx(Link, {\n    href: \"/signup\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 11\n    }\n  }, \"Sign Up\")), __jsx(Link, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 11\n    }\n  }, \"Lost Password\")), __jsx(Link, {\n    href: \"/login\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 9\n    }\n  }, __jsx(\"a\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 11\n    }\n  }, user.email ? 'Log Out' : 'Log In'))));\n};\n\n_c = Subnav;\nexport var getServerSideProps = withIronSession( /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref2) {\n    var req, res, user;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            req = _ref2.req, res = _ref2.res;\n            user = req.session.get(\"user\");\n\n            if (user) {\n              _context.next = 6;\n              break;\n            }\n\n            res.statusCode = 404;\n            res.end();\n            return _context.abrupt(\"return\", {\n              props: {}\n            });\n\n          case 6:\n            return _context.abrupt(\"return\", {\n              props: {\n                user: user\n              }\n            });\n\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref3.apply(this, arguments);\n  };\n}(), {\n  cookieName: \"MYSITECOOKIE\",\n  cookieOptions: {\n    secure: false ? true : false\n  },\n  password: \"KNqycumE8aB0UPhziMjOZLMe9vPtIIYv\"\n});\nexport default Subnav;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subnav\");","map":{"version":3,"sources":["/home/charles/serverless-next.js/packages/serverless-components/nextjs-component/examples/evote/components/subnav.js"],"names":["Link","React","withIronSession","Subnav","user","email","getServerSideProps","req","res","session","get","statusCode","end","props","cookieName","cookieOptions","secure","password"],"mappings":";;;;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,eAAT,QAAgC,mBAAhC;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS;AAAA,MAAGC,IAAH,QAAGA,IAAH;AAAA,SACX;AAAK,IAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAQ,IAAA,SAAS,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAqC;AAAG,IAAA,SAAS,EAAC,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAArC,CADA,EAEE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CADF,EAIE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,CAJF,EAOE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIA,IAAI,CAACC,KAAL,GAAa,SAAb,GAAyB,QAA7B,CADF,CAPF,CAFF,CADW;AAAA,CAAf;;KAAMF,M;AAiBN,OAAO,IAAMG,kBAAkB,GAAGJ,eAAe;AAAA,uEAC/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAASK,YAAAA,GAAT,SAASA,GAAT,EAAcC,GAAd,SAAcA,GAAd;AACQJ,YAAAA,IADR,GACeG,GAAG,CAACE,OAAJ,CAAYC,GAAZ,CAAgB,MAAhB,CADf;;AAAA,gBAGON,IAHP;AAAA;AAAA;AAAA;;AAIII,YAAAA,GAAG,CAACG,UAAJ,GAAiB,GAAjB;AACAH,YAAAA,GAAG,CAACI,GAAJ;AALJ,6CAMW;AACLC,cAAAA,KAAK,EAAE;AADF,aANX;;AAAA;AAAA,6CAWS;AACLA,cAAAA,KAAK,EAAE;AAAET,gBAAAA,IAAI,EAAJA;AAAF;AADF,aAXT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAD+C;;AAAA;AAAA;AAAA;AAAA,KAgB/C;AACEU,EAAAA,UAAU,EAAE,cADd;AAEEC,EAAAA,aAAa,EAAE;AACbC,IAAAA,MAAM,EAAE,QAAwC,IAAxC,GAA+C;AAD1C,GAFjB;AAKEC,EAAAA,QAAQ,EAAE;AALZ,CAhB+C,CAA1C;AAyBP,eAAed,MAAf","sourcesContent":["import Link from \"next/link\";\nimport React from \"react\";\nimport { withIronSession } from \"next-iron-session\";\n\nconst Subnav = ({ user }) => (\n    <div className=\"subnav\">\n    <button className=\"subnavbtn\">Log in <i className=\"fa fa-caret-down\"></i></button>\n      <div className=\"subnav-hanger\">\n        <Link href=\"/signup\">\n          <a>Sign Up</a>\n        </Link>\n        <Link href=\"/\">\n          <a>Lost Password</a>\n        </Link>\n        <Link href=\"/login\">\n          <a>{user.email ? 'Log Out' : 'Log In'}</a>\n        </Link>\n      </div>\n    </div>\n  );\n\nexport const getServerSideProps = withIronSession(\n  async ({ req, res }) => {\n    const user = req.session.get(\"user\");\n\n    if (!user) {\n      res.statusCode = 404;\n      res.end();\n      return {\n        props: {}\n      };\n    }\n\n    return {\n      props: { user }\n    };\n  },\n  {\n    cookieName: \"MYSITECOOKIE\",\n    cookieOptions: {\n      secure: process.env.NODE_ENV === \"production\" ? true : false\n    },\n    password: \"KNqycumE8aB0UPhziMjOZLMe9vPtIIYv\"\n  }\n);\n\nexport default Subnav;\n"]},"metadata":{},"sourceType":"module"}